{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import ProfileContext from\"./ProfileContext\";import axios from\"axios\";import{Button}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";function FollowUnfollowButton(p){var _useState=useState(p.purpose),_useState2=_slicedToArray(_useState,2),purpose=_useState2[0],setPurpose=_useState2[1];var _useContext=useContext(ProfileContext),user=_useContext.user;var _useContext2=useContext(ProfileContext),token=_useContext2.token;function follow(_x){return _follow.apply(this,arguments);}function _follow(){_follow=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(target){var followResult;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://127.0.0.1:5000/\".concat(purpose===\"follow\"?\"unFollow\":\"follow\",\"/\").concat(user,\"/\").concat(target),{headers:{Authorization:token}});case 2:followResult=_context.sent;if(followResult.data.result){setPurpose(purpose===\"follow\"?\"following\":\"follow\");}case 4:case\"end\":return _context.stop();}},_callee);}));return _follow.apply(this,arguments);}return/*#__PURE__*/_jsx(Button,{variant:purpose===\"follow\"?\"secondary\":\"primary\",onClick:function onClick(){follow(p.name);},children:purpose===\"follow\"?\"unFollow\":\"follow\"});}export default FollowUnfollowButton;","map":{"version":3,"names":["React","useContext","useState","ProfileContext","axios","Button","jsx","_jsx","FollowUnfollowButton","p","_useState","purpose","_useState2","_slicedToArray","setPurpose","_useContext","user","_useContext2","token","follow","_x","_follow","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","target","followResult","wrap","_callee$","_context","prev","next","get","concat","headers","Authorization","sent","data","result","stop","variant","onClick","name","children"],"sources":["C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/src/FollowUnfollowButton.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport ProfileContext from \"./ProfileContext\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nfunction FollowUnfollowButton(p) {\r\n  let [purpose, setPurpose] = useState(p.purpose);\r\n  let { user } = useContext(ProfileContext);\r\n  let { token } = useContext(ProfileContext);\r\n\r\n  async function follow(target) {\r\n    let followResult = await axios.get(\r\n      `http://127.0.0.1:5000/${\r\n        purpose === \"follow\" ? \"unFollow\" : \"follow\"\r\n      }/${user}/${target}`,\r\n      {\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      }\r\n    );\r\n    if (followResult.data.result) {\r\n      setPurpose(purpose === \"follow\" ? \"following\" : \"follow\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Button\r\n      variant={purpose === \"follow\" ? \"secondary\" : \"primary\"}\r\n      onClick={() => {\r\n        follow(p.name);\r\n      }}\r\n    >\r\n      {purpose === \"follow\" ? \"unFollow\" : \"follow\"}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default FollowUnfollowButton;\r\n"],"mappings":"ubAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzC,QAAS,CAAAC,oBAAoBA,CAACC,CAAC,CAAE,CAC/B,IAAAC,SAAA,CAA4BR,QAAQ,CAACO,CAAC,CAACE,OAAO,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAA1CC,OAAO,CAAAC,UAAA,IAAEE,UAAU,CAAAF,UAAA,IACxB,IAAAG,WAAA,CAAed,UAAU,CAACE,cAAc,CAAC,CAAnCa,IAAI,CAAAD,WAAA,CAAJC,IAAI,CACV,IAAAC,YAAA,CAAgBhB,UAAU,CAACE,cAAc,CAAC,CAApCe,KAAK,CAAAD,YAAA,CAALC,KAAK,CAAgC,QAE5B,CAAAC,MAAMA,CAAAC,EAAA,SAAAC,OAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,QAAA,EAAAA,OAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAArB,SAAAC,QAAsBC,MAAM,MAAAC,YAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACD,CAAA9B,KAAK,CAAC+B,GAAG,0BAAAC,MAAA,CAE9BzB,OAAO,GAAK,QAAQ,CAAG,UAAU,CAAG,QAAQ,MAAAyB,MAAA,CAC1CpB,IAAI,MAAAoB,MAAA,CAAIR,MAAM,EAClB,CACES,OAAO,CAAE,CACPC,aAAa,CAAEpB,KACjB,CACF,CACF,CAAC,QATGW,YAAY,CAAAG,QAAA,CAAAO,IAAA,CAUhB,GAAIV,YAAY,CAACW,IAAI,CAACC,MAAM,CAAE,CAC5B3B,UAAU,CAACH,OAAO,GAAK,QAAQ,CAAG,WAAW,CAAG,QAAQ,CAAC,CAC3D,CAAC,wBAAAqB,QAAA,CAAAU,IAAA,MAAAf,OAAA,GACF,UAAAN,OAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,mBACEhB,IAAA,CAACF,MAAM,EACLsC,OAAO,CAAEhC,OAAO,GAAK,QAAQ,CAAG,WAAW,CAAG,SAAU,CACxDiC,OAAO,CAAE,SAAAA,QAAA,CAAM,CACbzB,MAAM,CAACV,CAAC,CAACoC,IAAI,CAAC,CAChB,CAAE,CAAAC,QAAA,CAEDnC,OAAO,GAAK,QAAQ,CAAG,UAAU,CAAG,QAAQ,CACvC,CAAC,CAEb,CAEA,cAAe,CAAAH,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}