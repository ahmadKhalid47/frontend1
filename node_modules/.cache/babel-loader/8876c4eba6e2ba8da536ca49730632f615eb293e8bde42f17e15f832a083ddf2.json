{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import ProfileContext from\"./ProfileContext\";import axios from\"axios\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCheck,faTrash}from\"@fortawesome/free-solid-svg-icons\";import{Button}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DeletePost(p){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),deleteToggel=_useState2[0],setDeleteToggel=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),deleteDivToggel=_useState4[0],setDeleteDivToggel=_useState4[1];var _useContext=useContext(ProfileContext),setReloader=_useContext.setReloader;var _useContext2=useContext(ProfileContext),reloader=_useContext2.reloader;var _useContext3=useContext(ProfileContext),token=_useContext3.token;var target=p.target;function trueToggel(){setDeleteToggel(true);}function falseToggel(){setDeleteToggel(false);}function deletePost(){return _deletePost.apply(this,arguments);}function _deletePost(){_deletePost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.delete(\"http://127.0.0.1:5000/deletePost/\".concat(target),{headers:{Authorization:token}});case 2:falseToggel();setReloader(reloader+1);case 4:case\"end\":return _context.stop();}},_callee);}));return _deletePost.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\"},className:\"w-100 h-100 rounded-top\",onMouseEnter:function onMouseEnter(){return setDeleteDivToggel(true);},onMouseLeave:function onMouseLeave(){return setDeleteDivToggel(false);},children:deleteDivToggel?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end w-100 rounded-top\",children:!deleteToggel?/*#__PURE__*/_jsx(Button,{onMouseEnter:trueToggel,variant:\"danger\",size:\"sm\",className:\"rounded-bottom-0\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash})}):/*#__PURE__*/_jsxs(\"div\",{onMouseLeave:falseToggel,className:\"d-flex justify-content-between w-100 bg-danger rounded-top\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"px-2\",children:\"are you sure: \"}),/*#__PURE__*/_jsx(Button,{onClick:deletePost,size:\"sm\",className:\"rounded-bottom-0\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheck})})]})}):null});}export default DeletePost;","map":{"version":3,"names":["useContext","useState","ProfileContext","axios","FontAwesomeIcon","faCheck","faTrash","Button","jsx","_jsx","jsxs","_jsxs","DeletePost","p","_useState","_useState2","_slicedToArray","deleteToggel","setDeleteToggel","_useState3","_useState4","deleteDivToggel","setDeleteDivToggel","_useContext","setReloader","_useContext2","reloader","_useContext3","token","target","trueToggel","falseToggel","deletePost","_deletePost","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","delete","concat","headers","Authorization","stop","style","position","className","onMouseEnter","onMouseLeave","children","variant","size","icon","onClick"],"sources":["C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/src/DeletePost.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport ProfileContext from \"./ProfileContext\";\r\nimport axios from \"axios\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck, faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Button } from \"react-bootstrap\";\r\nfunction DeletePost(p) {\r\n  let [deleteToggel, setDeleteToggel] = useState(false);\r\n  let [deleteDivToggel, setDeleteDivToggel] = useState(false);\r\n  let { setReloader } = useContext(ProfileContext);\r\n  let { reloader } = useContext(ProfileContext);\r\n  let { token } = useContext(ProfileContext);\r\n  let { target } = p;\r\n\r\n  function trueToggel() {\r\n    setDeleteToggel(true);\r\n  }\r\n\r\n  function falseToggel() {\r\n    setDeleteToggel(false);\r\n  }\r\n\r\n  async function deletePost() {\r\n    await axios.delete(`http://127.0.0.1:5000/deletePost/${target}`, {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    });\r\n    falseToggel();\r\n    setReloader(reloader + 1);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{ position: \"absolute\" }}\r\n      className=\"w-100 h-100 rounded-top\"\r\n      onMouseEnter={() => setDeleteDivToggel(true)}\r\n      onMouseLeave={() => setDeleteDivToggel(false)}\r\n    >\r\n      {deleteDivToggel ? (\r\n        <div className=\"d-flex justify-content-end w-100 rounded-top\">\r\n          {!deleteToggel ? (\r\n            <Button\r\n              onMouseEnter={trueToggel}\r\n              variant=\"danger\"\r\n              size=\"sm\"\r\n              className=\"rounded-bottom-0\"\r\n            >\r\n              <FontAwesomeIcon icon={faTrash} />\r\n            </Button>\r\n          ) : (\r\n            <div\r\n              onMouseLeave={falseToggel}\r\n              className=\"d-flex justify-content-between w-100 bg-danger rounded-top\"\r\n            >\r\n              <h5 className=\"px-2\">are you sure: </h5>\r\n              <Button\r\n                onClick={deletePost}\r\n                size=\"sm\"\r\n                className=\"rounded-bottom-0\"\r\n              >\r\n                <FontAwesomeIcon icon={faCheck} />\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\nexport default DeletePost;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}