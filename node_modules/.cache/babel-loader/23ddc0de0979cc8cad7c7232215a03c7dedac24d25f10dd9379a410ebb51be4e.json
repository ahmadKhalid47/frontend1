{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ahmed Raza\\\\source\\\\repos\\\\try\\\\react_tut\\\\frontend\\\\src\\\\DisplayMessages.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport Loading from \"./Loading\";\nimport MessageContex from \"./MessageContex\";\nimport { Navigate } from \"react-router-dom\";\nimport { ListGroup, ListGroupItem, Image } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction DisplayMessages() {\n  _s();\n  let [messagesData, setMessageData] = useState([]);\n  let {\n    messageSended\n  } = useContext(MessageContex);\n  let {\n    user\n  } = useContext(MessageContex);\n  let {\n    token\n  } = useContext(MessageContex);\n  let {\n    target\n  } = useContext(MessageContex);\n  let [loader, setLoader] = useState(true);\n  let apiKey = process.env.REACT_APP_API_KEY;\n  useEffect(() => {\n    async function getMessagesData() {\n      try {\n        let messagesData = await axios.get(`${apiKey}/getMessagesData/${user}/${target}`, {\n          headers: {\n            Authorization: token\n          }\n        });\n        setLoader(true);\n        setMessageData(messagesData.data.result);\n      } catch (err) {} finally {\n        setLoader(false);\n      }\n    }\n    getMessagesData();\n  }, [user, target, token, messageSended, a]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: messagesData === \"token error\" ? /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-5 bg-success\",\n        style: {\n          height: \"10%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: target\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n        className: \"rounded-0 d-flex flex-column-reverse\",\n        style: {\n          position: \"relative\",\n          height: \"90%\",\n          overflow: \"auto\"\n        },\n        children: loader === true ? /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          className: \"px-5\",\n          children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this) : messagesData.length !== 0 ? messagesData.map((item, key) => /*#__PURE__*/_jsxDEV(ListGroupItem, {\n          className: `d-flex border-0 px-5 ${messagesData[messagesData.length - (key + 1)].sender === user ? \"flex-row-reverse\" : \"\"}`,\n          style: {\n            backgroundColor: \"transparent\"\n          },\n          children: messagesData[messagesData.length - (key + 1)].pic ? /*#__PURE__*/_jsxDEV(Image, {\n            src: `../${messagesData[messagesData.length - (key + 1)].pic}`,\n            alt: \"\",\n            width: \"100px\",\n            rounded: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            className: `bg-success rounded ${messagesData[messagesData.length - (key + 1)].sender === user ? \"bg-danger flex-row-reverse px-5\" : \"bg-primary px-5\"}`,\n            children: messagesData[messagesData.length - (key + 1)].text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this)\n        }, key + 1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"px-5\",\n          children: \"no messages yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n}\n_s(DisplayMessages, \"z65QYN6e8VtWMCT2oc7kTcmOXQg=\");\n_c = DisplayMessages;\nexport default DisplayMessages;\nvar _c;\n$RefreshReg$(_c, \"DisplayMessages\");","map":{"version":3,"names":["axios","useContext","useEffect","useState","Loading","MessageContex","Navigate","ListGroup","ListGroupItem","Image","jsxDEV","_jsxDEV","Fragment","_Fragment","DisplayMessages","_s","messagesData","setMessageData","messageSended","user","token","target","loader","setLoader","apiKey","process","env","REACT_APP_API_KEY","getMessagesData","get","headers","Authorization","data","result","err","a","children","to","fileName","_jsxFileName","lineNumber","columnNumber","className","style","height","position","overflow","Item","length","map","item","key","sender","backgroundColor","pic","src","alt","width","rounded","text","_c","$RefreshReg$"],"sources":["C:/Users/Ahmed Raza/source/repos/try/react_tut/frontend/src/DisplayMessages.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport Loading from \"./Loading\";\r\nimport MessageContex from \"./MessageContex\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { ListGroup, ListGroupItem, Image } from \"react-bootstrap\";\r\nfunction DisplayMessages() {\r\n  let [messagesData, setMessageData] = useState([]);\r\n  let { messageSended } = useContext(MessageContex);\r\n  let { user } = useContext(MessageContex);\r\n  let { token } = useContext(MessageContex);\r\n  let { target } = useContext(MessageContex);\r\n  let [loader, setLoader] = useState(true);\r\n  let apiKey = process.env.REACT_APP_API_KEY;\r\n\r\n  useEffect(() => {\r\n    async function getMessagesData() {\r\n      try {\r\n        let messagesData = await axios.get(\r\n          `${apiKey}/getMessagesData/${user}/${target}`,\r\n          {\r\n            headers: {\r\n              Authorization: token,\r\n            },\r\n          }\r\n        );\r\n        setLoader(true);\r\n        setMessageData(messagesData.data.result);\r\n      } catch (err) {\r\n      } finally {\r\n        setLoader(false);\r\n      }\r\n    }\r\n    getMessagesData();\r\n  }, [user, target, token, messageSended,a]);\r\n\r\n  return (\r\n    <>\r\n      {messagesData === \"token error\" ? (\r\n        <Navigate to={\"/\"} />\r\n      ) : (\r\n        <>\r\n          <div\r\n            className=\"px-5 bg-success\"\r\n            style={{\r\n              height: \"10%\",\r\n            }}\r\n          >\r\n            <h1>{target}</h1>\r\n          </div>\r\n          <ListGroup\r\n            className=\"rounded-0 d-flex flex-column-reverse\"\r\n            style={{\r\n              position: \"relative\",\r\n              height: \"90%\",\r\n              overflow: \"auto\",\r\n            }}\r\n          >\r\n            {loader === true ? (\r\n              <ListGroup.Item className=\"px-5\">\r\n                <Loading />\r\n              </ListGroup.Item>\r\n            ) : messagesData.length !== 0 ? (\r\n              messagesData.map((item, key) => (\r\n                <ListGroupItem\r\n                  className={`d-flex border-0 px-5 ${\r\n                    messagesData[messagesData.length - (key + 1)].sender ===\r\n                    user\r\n                      ? \"flex-row-reverse\"\r\n                      : \"\"\r\n                  }`}\r\n                  style={{ backgroundColor: \"transparent\" }}\r\n                  key={key + 1}\r\n                >\r\n                  {messagesData[messagesData.length - (key + 1)].pic ? (\r\n                    <Image\r\n                      src={`../${\r\n                        messagesData[messagesData.length - (key + 1)].pic\r\n                      }`}\r\n                      alt=\"\"\r\n                      width={\"100px\"}\r\n                      rounded\r\n                    />\r\n                  ) : (\r\n                    <ListGroup.Item\r\n                      className={`bg-success rounded ${\r\n                        messagesData[messagesData.length - (key + 1)].sender ===\r\n                        user\r\n                          ? \"bg-danger flex-row-reverse px-5\"\r\n                          : \"bg-primary px-5\"\r\n                      }`}\r\n                    >\r\n                      {messagesData[messagesData.length - (key + 1)].text}\r\n                    </ListGroup.Item>\r\n                  )}\r\n                </ListGroupItem>\r\n              ))\r\n            ) : (\r\n              <h1 className=\"px-5\">no messages yet</h1>\r\n            )}\r\n          </ListGroup>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DisplayMessages;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}